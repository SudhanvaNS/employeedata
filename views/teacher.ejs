<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="teacher.css">
    <!-- <link rel="stylesheet" href="style.css"> -->

    <title>Emp Management</title>
  </head>
  <body>

    <nav class="navbar navbar-expand-lg navbar-light bg-warning">
      <a class="navbar-brand" href='/'>HI Teacher ame</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
    
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item active">
            <a class="nav-link" href="/employeedata/Templates/teach_details.html">Profile <span class="sr-only">(current)</span></a>
          </li>
        </ul>
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" id ="logout" href="#">Logout</a>
          </li>
        </ul>
      </div>
    </nav>
    <form id="add-form" method="post" class="form-box">
      <label for="USN">USN:</label>
      <input type="text" autocomplete="off" id="USN" required>
      <br>
      <label for="Name">Name:</label>
      <input type="text" autocomplete="off"  id="Name" required>
      <br>
      <label for="PHONE">PHONE:</label>
      <input type="text" autocomplete="off"  id="PHONE" required>
      <br>
      <label for="Gender">Gender:</label>
      <input type="text"  id="Gender" required>
      <br>
      <button type="submit" class="add-button">Add Student</button>
  </form>
  <br>

    <h1 style="margin: 2% auto 2%;" class="text-center">Students List</h1>
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <div class="card">
            <div class="card-body">
              <table id="table">
                <thead>
                  <tr>
                    <th>USN</th>
                    <th>NAME</th>
                    <th>PHONE</th>
                    <th>GENDER</th>
                    <th>EDIT</th>
                    <th>DELETE</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                     <!-- brig data from database -->
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
    <section hidden id="update-row" class="update-section">
      <label for="update-student-teacher" class="form-label">Teacher:</label>
      <input class="form-input" type="text" id="update-student-teacher">
      <br>
      <button id="update-row-btn" class="update-button">Update</button>
  </section>

    <script src="\teacher.js">  
//     document.addEventListener('DOMContentLoaded', function () {
//       var Username = sessionStorage.getItem('Username');
//     // console.log(id);
//     const apiUrl = 'http://127.0.0.1:3000/student/getall/${Username}';
      
//     // function createDeleteButton() {
//     //     const deleteButton = document.createElement('button');
//     //     deleteButton.className = 'btn btn-danger';
//     //     deleteButton.textContent = 'Delete';
//     //     return deleteButton;
//     // }

//     fetch(apiUrl)
//         .then(response => response.json())
//         .then(data =>  loadHTMLTable(data))
//         .catch(error => {
//             console.error("Error fetching data:", error);
//         });
//       });


//  function loadHTMLTable(data){
//           const tableBody = document.querySelector('tbody');
//           // console.log(data);
//     const clothSize = data;
//     if (clothSize.length === 0) {
//         table.innerHTML = "<tr><td class='no-data' colspan='4'>No Data </td></tr>";
//         return;
//     }
//             data.forEach(student => {
//               const newRow = document.createElement("tr");
//         newRow.className = "datarow";
//         newRow.innerHTML = `
//                     <td>${student.usn}</td>
//                     <td>${student.name}</td>
//                     <td>${student.phone}</td>
//                     <td>${student.gender}</td>
//                     <td>
//                         <button class="btn btn-primary">Edit</button>
//                         <button class="btn btn-danger delete-button">Delete</button>
//                     </td>
//                 `;
//                 const deleteButton = row.querySelector('.delete--row-btn');
//                 deleteButton.addEventListener('click', async () => {
//                     const confirmDelete = confirm('Are you sure you want to delete this student?');
//                     if (confirmDelete) {
//                         try {
//                           const ID = deleteButton.getAttribute("data-id");
//                             const response = await fetch(`http://localhost:3000/api/student/delete/${student.usn}`, {
//                                 method: 'DELETE'
//                             });

//                             if (response.ok) {
//                                 row.remove(); // Remove the deleted row from the table
//                                 alert(data.message);
//                                 location.reload();
//                             } else {
//                                 console.error('Error deleting student:', response.statusText);
//                             }
//                         } catch (error) {
//                             console.log(error);
//                         }
//                     }
//                 });

//                 tableBody.appendChild(row);
//             });
//         }   

            // const addStudentRow = document.createElement('tr');
            // addStudentRow.innerHTML = `
            //     <td colspan="5" class="text-center">
            //         <a href="addStudent.html" style="margin-top: 3%" class="btn btn-warning">Add Student</a>
            //     </td>
            // `;
//             tableBody.appendChild(addStudentRow);
//         })
//         .catch(error => console.error('Error fetching data:', error));
// });


    </script>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  </body>
</html>